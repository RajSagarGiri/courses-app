(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t){e.exports={newCourse:{id:null,title:"",authorId:null,category:""},courses:[{id:1,title:"Securing React Apps with Auth0",slug:"react-auth0-authentication-security",authorId:1,category:"JavaScript"},{id:2,title:"React: The Big Picture",slug:"react-big-picture",authorId:1,category:"JavaScript"},{id:3,title:"Creating Reusable React Components",slug:"react-creating-reusable-components",authorId:1,category:"JavaScript"},{id:4,title:"Building a JavaScript Development Environment",slug:"javascript-development-environment",authorId:1,category:"JavaScript"},{id:5,title:"Building Applications with React and Redux",slug:"react-redux-react-router-es6",authorId:1,category:"JavaScript"},{id:6,title:"Building Applications in React and Flux",slug:"react-flux-building-applications",authorId:1,category:"JavaScript"},{id:7,title:"Clean Code: Writing Code for Humans",slug:"writing-clean-code-humans",authorId:1,category:"Software Practices"},{id:8,title:"Architecting Applications for the Real World",slug:"architecting-applications-dotnet",authorId:1,category:"Software Architecture"},{id:9,title:"Becoming an Outlier: Reprogramming the Developer Mind",slug:"career-reboot-for-developer-mind",authorId:1,category:"Career"},{id:10,title:"Web Component Fundamentals",slug:"web-components-shadow-dom",authorId:1,category:"HTML5"}],authors:[{id:1,name:"Cory House"},{id:2,name:"Scott Allen"},{id:3,name:"Dan Wahlin"}]}},42:function(e,t,a){e.exports=a(67)},47:function(e,t,a){},59:function(e,t,a){},63:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(10),c=a.n(o),u=(a(47),a(11)),l=a(5),s=function(){return n.a.createElement("div",{className:"jumbotron"},n.a.createElement("h1",null,"Plural sight Admin"),n.a.createElement("p",null,"React, Redux and React Router for ultra-responsive web apps."),n.a.createElement(l.b,{to:"about",className:"btn btn-primary btn-lg"},"Learn More"))},i=function(){return n.a.createElement("div",{className:"jumbotron"},n.a.createElement("h2",null,"About"),n.a.createElement("p",null,"This apps uses React, Redux, React Router & many others helpful libraries."),n.a.createElement(l.b,{to:"/",className:"btn btn-primary btn-lg"},"Home"))},h=function(){var e={color:"#F15B2A"};return n.a.createElement("nav",null,n.a.createElement(l.c,{to:"/",activeStyle:e,exact:!0},"Home")," | ",n.a.createElement(l.c,{to:"/courses",activeStyle:e},"Courses")," | ",n.a.createElement(l.c,{to:"/about",activeStyle:e},"About"))},m=function(){return n.a.createElement("h1",null,"Oops! Page Not found.")},d=a(9),p=a(14),f=a.n(p),g=a(20),b=a(29),E=a(30),v=a(39),C=a(31),y=a(40),S=a(13),O="LOAD_COURSES_SUCCESS",j="LOAD_AUTHORS_SUCCESS",w="CREATE_COURSE_SUCCESS",A="UPDATE_COURSE_SUCCESS",N="DELETE_COURSE";function R(e){return x.apply(this,arguments)}function x(){return(x=Object(g.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:if(400!==t.status){e.next=7;break}return e.next=5,t.text();case 5:throw a=e.sent,new Error(a);case 7:throw new Error("Network response was not ok.");case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){throw console.error("API call failed. "+e),e}var I="http://localhost:3001/courses/";function D(){return function(e){return fetch(I).then(R).catch(k).then(function(t){e(function(e){return{type:O,courses:e}}(t))}).catch(function(e){throw e})}}function T(e){return function(t){return t(function(e){return{type:N,course:e}}(e)),a=e.id,fetch(I+a,{method:"DELETE"}).then(R).catch(k);var a}}var _="http://localhost:3001/authors/";function P(){return function(e){return fetch(_).then(R).catch(k).then(function(t){e(function(e){return{type:j,authors:e}}(t))}).catch(function(e){throw e})}}var U=a(6),J=function(e){var t=e.courses,a=e.onDeleteClick;return n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Title"),n.a.createElement("th",null,"Author"),n.a.createElement("th",null,"Category"))),n.a.createElement("tbody",null,t.map(function(e){return n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,n.a.createElement("a",{className:"btn btn-light",href:"http://pluralsight.com/courses/"+e.slug,target:"_blank",rel:"noopener noreferrer"},"Watch")),n.a.createElement("td",null,n.a.createElement(l.b,{to:"course/"+e.slug},e.title)),n.a.createElement("td",null,e.authorName),n.a.createElement("td",null,e.category),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a(e)}},"Delete")))})))},B=(a(59),function(){return n.a.createElement("div",{className:"loader"},"Loading...")}),L=a(12),F=function(e){function t(){var e,a;Object(b.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(n)))).state={redirectToCoursePage:!1},a.handleDeleteCourse=function(){var e=Object(g.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L.b.success("Course Deleted!"),e.prev=1,e.next=4,a.props.actions.deleteCourse(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),L.b.error("Delete failed"+e.t0.message,{autoClose:!1});case 9:case 10:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.courses,a=e.authors,r=e.actions;0===t.length&&r.loadCourses().catch(function(e){return console.log(e)}),0===a.length&&r.loadAuthors().catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.state.redirectToCoursePage&&n.a.createElement(u.a,{to:"/course"}),n.a.createElement("h2",null,"Courses"),0===this.props.courses.length?n.a.createElement(B,null):n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{style:{margin:"20"},className:"btn btn-primary add-course",onClick:function(){return e.setState({redirectToCoursePage:!0})}},"Add Course"),n.a.createElement(J,{onDeleteClick:this.handleDeleteCourse,courses:this.props.courses})))}}]),t}(n.a.Component);var H=Object(S.b)(function(e){return{courses:0===e.authors.length?[]:e.courses.map(function(t){return Object(d.a)({},t,{authorName:e.authors.find(function(e){return e.id===t.authorId}).name})}),authors:e.authors}},function(e){return{actions:{loadCourses:Object(U.b)(D,e),loadAuthors:Object(U.b)(P,e),deleteCourse:Object(U.b)(T,e)}}})(F),M=a(19),W=a(21),q=a(41),X=function(e){var t=e.name,a=e.label,r=e.onChange,o=e.placeholder,c=e.value,u=e.error,l="form-group";return u&&u.length>0&&(l+=" has-error"),n.a.createElement("div",{className:l},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("div",{className:"field"},n.a.createElement("input",{type:"text",name:t,className:"form-control",placeholder:o,value:c,onChange:r}),u&&n.a.createElement("div",{className:"alert alert-danger"},u)))},V=function(e){var t=e.name,a=e.label,r=e.onChange,o=e.defaultOption,c=e.value,u=e.error,l=e.options;return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},a),n.a.createElement("div",{className:"field"},n.a.createElement("select",{name:t,value:c,onChange:r,className:"form-control"},n.a.createElement("option",{value:""},o),l.map(function(e){return n.a.createElement("option",{key:e.value,value:e.value},e.text)})),u&&n.a.createElement("div",{className:"alert alert-danger"},u)))},z=function(e){var t=e.course,a=e.authors,r=e.onSave,o=e.onChange,c=e.saving,u=void 0!==c&&c,l=e.errors,s=void 0===l?{}:l;return n.a.createElement("form",{onSubmit:r},n.a.createElement("h2",null,t.id?"Edit":"Add"," Course"),s.onSave&&n.a.createElement("div",{className:"alert alert-danger",role:"alert"},s.onSave),n.a.createElement(X,{name:"title",label:"Title",value:t.title,onChange:o,error:s.title}),n.a.createElement(V,{name:"authorId",label:"Author",value:t.authorId||"",defaultOption:"Select Author",options:a.map(function(e){return{value:e.id,text:e.name}}),onChange:o,error:s.author}),n.a.createElement(X,{name:"category",label:"Category",value:t.category,onChange:o,error:s.category}),n.a.createElement("button",{type:"submit",disabled:u,className:"btn btn-primary"},u?"Saving...":"Save"))},G=a(35);var K=function(e,t){return e.find(function(e){return e.slug===t})||null};var Q={loadCourses:D,loadAuthors:P,saveCourse:function(e){return function(t,a){return function(e){return fetch(I+(e.id||""),{method:e.id?"PUT":"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(R).catch(k)}(e).then(function(a){e.id?t(function(e){return{type:A,course:e}}(a)):t(function(e){return{type:w,course:e}}(a))}).catch(function(e){throw e})}}},Y=Object(S.b)(function(e,t){var a=t.match.params.slug,r=a&&e.courses.length>0?K(e.courses,a):G.newCourse;return{courses:e.courses,course:r,authors:e.authors}},Q)(function(e){var t=e.courses,a=e.authors,o=e.loadCourses,c=e.loadAuthors,u=e.saveCourse,l=e.history,s=Object(q.a)(e,["courses","authors","loadCourses","loadAuthors","saveCourse","history"]),i=Object(r.useState)(Object(d.a)({},s.course)),h=Object(W.a)(i,2),m=h[0],p=h[1],f=Object(r.useState)({}),g=Object(W.a)(f,2),b=g[0],E=g[1],v=Object(r.useState)(!1),C=Object(W.a)(v,2),y=C[0],S=C[1];return Object(r.useEffect)(function(){0===t.length?o().catch(function(e){return console.log(e)}):p(Object(d.a)({},s.course)),0===a.length&&c().catch(function(e){return console.log(e)})},[s.course]),n.a.createElement(z,{course:m,authors:a,onChange:function(e){var t=e.target,a=t.name,r=t.value;p(function(e){return Object(d.a)({},e,Object(M.a)({},a,"authorId"===a?parseInt(r,10):r))})},onSave:function(e){e.preventDefault(),function(){var e=m.title,t=m.authorId,a=m.category,r={};return e||(r.title="Title is required"),t||(r.author="Author is required"),a||(r.category="Category is required"),E(r),0===Object.keys(r).length}()&&(S(!0),u(m).then(function(){L.b.success("Course Saved"),l.push("/courses")}).catch(function(e){S(!1),E({onSave:e.message})}))},saving:y,errors:b})}),Z=(a(62),function(){return n.a.createElement("div",{className:"container-fluid"},n.a.createElement(h,null),n.a.createElement(u.d,null,n.a.createElement(u.b,{exact:!0,path:"/",component:s}),n.a.createElement(u.a,{exact:!0,from:"/courses-app",to:"/"}),n.a.createElement(u.b,{path:"/about",component:i}),n.a.createElement(u.b,{path:"/courses",component:H}),n.a.createElement(u.b,{path:"/course/:slug",component:Y}),n.a.createElement(u.b,{path:"/course",component:Y}),n.a.createElement(u.b,{component:m})),n.a.createElement(L.a,{autoClose:1500,hideProgressBar:!0}))}),$=(a(63),a(38)),ee={courses:[],authors:[]};var te=Object(U.c)({courses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee.courses,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return[].concat(Object($.a)(e),[Object(d.a)({},t.course)]);case A:return e.map(function(e){return e.id===t.course.id?t.course:e});case O:return t.courses;case N:return e.filter(function(e){return e.id!==t.course.id});default:return e}},authors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee.authors,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.authors;default:return e}}}),ae=a(36),re=a.n(ae),ne=a(37);var oe=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.d;return Object(U.e)(te,e,t(Object(U.a)(ne.a,re()())))}();c.a.render(n.a.createElement(S.a,{store:oe},n.a.createElement(l.a,null,n.a.createElement(Z,null))),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.07bc3b52.chunk.js.map